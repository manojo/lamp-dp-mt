system["fir", domain[2, {"N", "M"}, 
  {pol[3, 3, 0, 0, {{1, 1, 0, -2}, {1, -1, 1, -1}, {1, 0, 0, 1}}, 
    {{1, 0, 1, 0}, {1, 1, 1, 0}, {1, 2, 3, 1}}]}], 
 {decl["x", integer, domain[3, {"i", "N", "M"}, 
    {pol[3, 4, 0, 1, {{1, 1, 0, 0, 0}, {1, -1, 0, 1, -1}, {1, 0, 0, 0, 1}}, 
      {{0, 0, 1, 0, 0}, {1, 0, 0, 1, 0}, {1, 1, 0, 1, 0}, 
       {1, 0, 0, 1, 1}}]}]], decl["H", integer, domain[3, {"n", "N", "M"}, 
    {pol[3, 4, 0, 1, {{1, 1, 0, 0, 0}, {1, -1, 1, 0, -1}, {1, 0, 0, 0, 1}}, 
      {{0, 0, 0, 1, 0}, {1, 0, 1, 0, 0}, {1, 1, 1, 0, 0}, 
       {1, 0, 1, 0, 1}}]}]]}, 
 {decl["res", integer, domain[3, {"i", "N", "M"}, 
    {pol[3, 4, 0, 1, {{1, 1, -1, 0, 0}, {1, -1, 0, 1, 0}, {1, 0, 0, 0, 1}}, 
      {{0, 1, 1, 1, 0}, {1, 0, 0, 1, 0}, {1, 0, -1, 0, 0}, 
       {1, 0, 0, 0, 1}}]}]]}, 
 {decl["xPipeES", integer, domain[4, {"i", "n", "N", "M"}, 
    {pol[6, 7, 0, 0, {{1, 1, -1, 0, 0, -1}, {1, -1, 0, 1, 0, 0}, 
       {1, 0, 1, 0, 0, 0}, {1, 0, 0, 1, 0, -2}, {1, 0, 0, -1, 1, -1}, 
       {1, 0, 0, 0, 0, 1}}, {{1, 0, 0, 0, 1, 0}, {1, 1, 1, 1, 1, 0}, 
       {1, 0, 0, 1, 1, 0}, {1, 1, 0, 1, 1, 0}, {1, 2, 0, 2, 3, 1}, 
       {1, 2, 1, 2, 3, 1}, {1, 1, 0, 2, 3, 1}}]}]], 
  decl["HPipeES", integer, domain[4, {"i", "n", "N", "M"}, 
    {pol[6, 7, 0, 0, {{1, 1, -1, 0, 0, -1}, {1, -1, 0, 1, 0, 0}, 
       {1, 0, 1, 0, 0, 0}, {1, 0, 0, 1, 0, -2}, {1, 0, 0, -1, 1, -1}, 
       {1, 0, 0, 0, 0, 1}}, {{1, 0, 0, 0, 1, 0}, {1, 1, 1, 1, 1, 0}, 
       {1, 0, 0, 1, 1, 0}, {1, 1, 0, 1, 1, 0}, {1, 2, 0, 2, 3, 1}, 
       {1, 2, 1, 2, 3, 1}, {1, 1, 0, 2, 3, 1}}]}]], 
  decl["xPipe", integer, domain[4, {"i", "n", "N", "M"}, 
    {pol[8, 8, 0, 0, {{1, 1, 0, -1, 0, 0}, {1, -1, 0, 0, 1, 0}, 
       {1, -1, 1, 0, 1, 0}, {1, 0, 1, 0, 0, 1}, {1, 0, -1, 1, 0, -1}, 
       {1, 0, 0, 1, 0, -2}, {1, 0, 0, -1, 1, -1}, {1, 0, 0, 0, 0, 1}}, 
      {{1, 1, 0, 1, 1, 0}, {1, 1, 1, 1, 1, 0}, {1, 2, -1, 2, 3, 1}, 
       {1, 0, 0, 0, 1, 0}, {1, 1, 0, 0, 1, 0}, {1, 3, 1, 2, 3, 1}, 
       {1, 3, 0, 2, 3, 1}, {1, 2, 1, 2, 3, 1}}]}]], 
  decl["HPipe", integer, domain[4, {"t", "n", "N", "M"}, 
    {pol[7, 8, 0, 0, {{1, 0, 1, -1, 0, 0}, {1, 0, -1, 0, 1, 0}, 
       {1, 1, -1, 0, 0, -1}, {1, -1, 1, 1, 0, 0}, {1, 0, 0, 1, 0, -2}, 
       {1, 0, 0, -1, 1, -1}, {1, 0, 0, 0, 0, 1}}, {{1, 1, 1, 1, 1, 0}, 
       {1, 2, 1, 1, 1, 0}, {1, 0, 0, 0, 1, 0}, {1, 1, 1, 0, 1, 0}, 
       {1, 5, 3, 2, 3, 1}, {1, 4, 3, 2, 3, 1}, {1, 3, 2, 2, 3, 1}, 
       {1, 4, 2, 2, 3, 1}}]}]], decl["Y", integer, 
   domain[4, {"i", "n", "N", "M"}, 
    {pol[7, 8, 0, 0, {{1, 1, 0, -1, 0, 0}, {1, -1, 0, 0, 1, 0}, 
       {1, 0, 1, 0, 0, 1}, {1, 0, -1, 1, 0, -1}, {1, 0, 0, 1, 0, -2}, 
       {1, 0, 0, -1, 1, -1}, {1, 0, 0, 0, 0, 1}}, {{1, 1, 0, 1, 1, 0}, 
       {1, 1, 1, 1, 1, 0}, {1, 0, 0, 0, 1, 0}, {1, 1, 0, 0, 1, 0}, 
       {1, 3, 1, 2, 3, 1}, {1, 3, -1, 2, 3, 1}, {1, 2, -1, 2, 3, 1}, 
       {1, 2, 1, 2, 3, 1}}]}]]}, 
 {equation["xPipeES", case[{restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[2, 4, 1, 3, {{0, 0, 1, 0, 0, 0}, {1, 0, 0, 0, 0, 1}}, 
         {{0, 1, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, 0, 0, 0, 1}}]}], affine[var["x"], 
       matrix[4, 5, {"i", "n", "N", "M"}, {{1, 0, 0, 0, -1}, {0, 0, 1, 0, 0}, 
         {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]]], 
     restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[2, 5, 0, 3, {{1, 0, 1, 0, 0, -1}, {1, 0, 0, 0, 0, 1}}, 
         {{0, 1, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, 1, 0, 0, 0}, {1, 0, 1, 0, 0, 1}}]}], 
      affine[var["xPipeES"], matrix[5, 5, {"i", "n", "N", "M"}, 
        {{1, 0, 0, 0, -1}, {0, 1, 0, 0, -1}, {0, 0, 1, 0, 0}, 
         {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]]]}]], 
  equation["HPipeES", case[{restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[2, 4, 1, 3, {{0, 0, 1, 0, 0, 0}, {1, 0, 0, 0, 0, 1}}, 
         {{0, 1, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, 0, 0, 0, 1}}]}], affine[var["H"], 
       matrix[4, 5, {"i", "n", "N", "M"}, {{-1, 0, 1, 0, 0}, {0, 0, 1, 0, 0}, 
         {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]]], 
     restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[2, 5, 0, 3, {{1, 0, 1, 0, 0, -1}, {1, 0, 0, 0, 0, 1}}, 
         {{0, 1, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, 1, 0, 0, 0}, {1, 0, 1, 0, 0, 1}}]}], 
      affine[var["HPipeES"], matrix[5, 5, {"i", "n", "N", "M"}, 
        {{1, 0, 0, 0, -1}, {0, 1, 0, 0, -1}, {0, 0, 1, 0, 0}, 
         {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]]]}]], 
  equation["xPipe", case[{restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[2, 4, 1, 3, {{0, 1, 0, -1, 0, 0}, {1, 0, 0, 0, 0, 1}}, 
         {{0, 1, 0, 1, 0, 0}, {0, 0, 1, 0, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, 0, 0, 0, 1}}], pol[2, 4, 1, 3, {{0, 0, 1, 0, 0, 1}, 
          {1, 0, 0, 0, 0, 1}}, {{0, 1, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 0}, 
          {0, 0, 0, 0, 1, 0}, {1, 0, -1, 0, 0, 1}}]}], var["xPipeES"]], 
     restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[3, 5, 0, 2, {{1, 1, 0, -1, 0, -1}, {1, 0, 1, 0, 0, 0}, 
          {1, 0, 0, 0, 0, 1}}, {{0, 1, 0, 1, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, 1, 0, 0, 0}, {1, 0, 0, -1, 0, 0}, {1, 0, 0, -1, 0, 1}}]}], 
      affine[var["xPipe"], matrix[5, 5, {"i", "n", "N", "M"}, 
        {{1, 0, 0, 0, -1}, {0, 1, 0, 0, -1}, {0, 0, 1, 0, 0}, 
         {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]]]}]], 
  equation["HPipe", 
   affine[case[{restrict[domain[4, {"i", "n", "N", "M"}, 
        {pol[2, 4, 1, 3, {{0, 1, 0, -1, 0, 0}, {1, 0, 0, 0, 0, 1}}, 
          {{0, 1, 0, 1, 0, 0}, {0, 0, 1, 0, 0, 0}, {0, 0, 0, 0, 1, 0}, 
           {1, 0, 0, 0, 0, 1}}]}], var["HPipeES"]], 
      restrict[domain[4, {"i", "n", "N", "M"}, 
        {pol[2, 5, 0, 3, {{1, 1, 0, -1, 0, -1}, {1, 0, 0, 0, 0, 1}}, 
          {{0, 1, 0, 1, 0, 0}, {0, 0, 1, 0, 0, 0}, {0, 0, 0, 0, 1, 0}, 
           {1, 0, 0, -1, 0, 0}, {1, 0, 0, -1, 0, 1}}]}], 
       affine[affine[var["HPipe"], matrix[5, 5, {"i", "n", "N", "M"}, 
          {{1, 1, 0, 0, 1}, {1, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, 
           {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]], matrix[5, 5, 
         {"i", "n", "N", "M"}, {{1, 0, 0, 0, -1}, {0, 1, 0, 0, 0}, 
          {0, 0, 1, 0, 0}, {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]]]}], 
    matrix[5, 5, {"t", "n", "N", "M"}, {{0, 1, 0, 0, 0}, {1, -1, 0, 0, -1}, 
      {0, 0, 1, 0, 0}, {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]]], 
  equation["Y", case[{restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[2, 4, 1, 3, {{0, 0, 1, 0, 0, 1}, {1, 0, 0, 0, 0, 1}}, 
         {{0, 1, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, -1, 0, 0, 1}}]}], affine[const[0], 
       matrix[1, 5, {"i", "n", "N", "M"}, {{0, 0, 0, 0, 1}}]]], 
     restrict[domain[4, {"i", "n", "N", "M"}, 
       {pol[2, 5, 0, 3, {{1, 0, 1, 0, 0, 0}, {1, 0, 0, 0, 0, 1}}, 
         {{0, 1, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 0}, {0, 0, 0, 0, 1, 0}, 
          {1, 0, 1, 0, 0, 0}, {1, 0, 0, 0, 0, 1}}]}], 
      binop[add, affine[var["Y"], matrix[5, 5, {"i", "n", "N", "M"}, 
         {{1, 0, 0, 0, 0}, {0, 1, 0, 0, -1}, {0, 0, 1, 0, 0}, 
          {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]], 
       binop[mul, affine[var["HPipe"], matrix[5, 5, {"i", "n", "N", "M"}, 
          {{1, 1, 0, 0, 1}, {1, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, 
           {0, 0, 0, 1, 0}, {0, 0, 0, 0, 1}}]], var["xPipe"]]]]}]], 
  equation["res", affine[var["Y"], matrix[5, 4, {"i", "N", "M"}, 
     {{1, 0, 0, 0}, {0, 1, 0, -1}, {0, 1, 0, 0}, {0, 0, 1, 0}, 
      {0, 0, 0, 1}}]]]}]
