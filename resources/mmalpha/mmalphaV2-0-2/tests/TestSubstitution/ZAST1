system["decimation", domain[1, {"N"}, 
  {pol[2, 2, 0, 0, {{1, 1, -2}, {1, 0, 1}}, {{1, 1, 0}, {1, 2, 1}}]}], 
 {decl["x", real, domain[2, {"i", "N"}, 
    {pol[2, 3, 0, 1, {{1, 1, 0, 0}, {1, 0, 0, 1}}, 
      {{0, 0, 1, 0}, {1, 1, 0, 0}, {1, 0, 0, 1}}]}]], 
  decl["w", real, domain[2, {"i", "N"}, 
    {pol[3, 3, 0, 0, {{1, -1, 1, -1}, {1, 1, 0, 0}, {1, 0, 0, 1}}, 
      {{1, 1, 1, 0}, {1, 0, 1, 0}, {1, 0, 1, 1}}]}]]}, 
 {decl["y", real, domain[2, {"i", "N"}, 
    {pol[2, 3, 0, 1, {{1, 1, 0, 0}, {1, 0, 0, 1}}, 
      {{0, 0, 1, 0}, {1, 1, 0, 0}, {1, 0, 0, 1}}]}]]}, 
 {decl["X", real, domain[3, {"i", "j", "N"}, 
    {pol[4, 4, 0, 0, {{1, 1, 3, 0, 0}, {1, 0, 1, 0, 0}, {1, 0, -1, 1, -1}, 
       {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, {1, -3, 1, 1, 0}, {1, 1, 0, 0, 0}, 
       {1, 0, 0, 1, 1}}]}]], decl["Y", real, 
   domain[3, {}, {zpol[matrix[4, 4, {"i", "j", "N"}, 
       {{3, 0, 0, 0}, {0, 1, 0, 0}, {0, 0, 1, 0}, {0, 0, 0, 1}}], 
      {pol[4, 4, 0, 0, {{1, 1, 1, 0, 0}, {1, 0, 1, 0, 0}, {1, 0, -1, 1, -1}, 
         {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, {1, -1, 1, 1, 0}, 
         {1, 1, 0, 0, 0}, {1, 0, 0, 1, 1}}]}]}]], 
  decl["Z", real, domain[3, {}, 
    {zpol[matrix[4, 4, {"i", "j", "N"}, {{3, 0, 0, 0}, {0, 2, 0, 0}, 
        {0, 0, 1, 0}, {0, 0, 0, 1}}], 
      {pol[4, 4, 0, 0, {{1, 1, 0, 0, 0}, {1, 0, 1, 0, 0}, {1, 0, -1, 1, -1}, 
         {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, {1, 0, 1, 1, 0}, 
         {1, 1, 0, 0, 0}, {1, 0, 0, 1, 1}}]}]}]]}, 
 {equation["X", case[{restrict[domain[3, {"i", "j", "N"}, 
       {pol[4, 3, 1, 0, {{0, 0, 1, -1, 1}, {1, -1, 0, -2, 1}, 
          {1, 1, 0, 3, -3}, {1, 0, 0, 0, 1}}, {{1, -3, 1, 2, 1}, 
          {1, -2, 1, 1, 0}, {1, -3, 1, 1, 0}}]}], affine[const[0], 
       matrix[1, 4, {"i", "j", "N"}, {{0, 0, 0, 1}}]]], 
     restrict[domain[3, {"i", "j", "N"}, 
       {pol[3, 3, 1, 1, {{0, 0, 1, -1, 1}, {1, 1, 0, 2, -2}, 
          {1, 0, 0, 0, 1}}, {{0, 2, -1, -1, 0}, {1, 0, 0, 1, 1}, 
          {1, 0, 1, 1, 0}}]}], affine[var["x"], matrix[3, 4, {"i", "j", "N"}, 
        {{1, 0, 2, -2}, {0, 0, 1, 0}, {0, 0, 0, 1}}]]], 
     restrict[domain[3, {"i", "j", "N"}, 
       {pol[4, 4, 0, 0, {{1, 1, 3, 0, 0}, {1, 0, 1, 0, 0}, {1, 0, -1, 1, -2}, 
          {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, {1, -3, 1, 1, 0}, 
          {1, 1, 0, 0, 0}, {1, 0, 0, 2, 1}}]}], affine[var["X"], 
       matrix[4, 4, {"i", "j", "N"}, {{1, 0, 0, -2}, {0, 1, 0, 1}, 
         {0, 0, 1, 0}, {0, 0, 0, 1}}]]]}]], 
  equation["Y", affine[case[{restrict[domain[3, {"i", "j", "N"}, 
        {pol[2, 3, 1, 2, {{0, 0, 1, -1, 1}, {1, 0, 0, 0, 1}}, 
          {{0, 1, 0, 0, 0}, {0, 0, 1, 1, 0}, {1, 0, 0, 1, 1}}]}], 
       binop[mul, affine[var["w"], matrix[3, 4, {"i", "j", "N"}, 
          {{0, 1, 0, 0}, {0, 0, 1, 0}, {0, 0, 0, 1}}]], 
        affine[restrict[domain[3, {"i", "j", "N"}, 
           {pol[4, 4, 0, 0, {{1, 1, 3, 0, 0}, {1, 0, 1, 0, 0}, 
              {1, 0, -1, 1, -1}, {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, 
              {1, -3, 1, 1, 0}, {1, 1, 0, 0, 0}, {1, 0, 0, 1, 1}}]}], 
          case[{restrict[domain[3, {"i", "j", "N"}, {pol[4, 3, 1, 0, 
                {{0, 0, 1, -1, 1}, {1, -1, 0, -2, 1}, {1, 1, 0, 3, -3}, 
                 {1, 0, 0, 0, 1}}, {{1, -3, 1, 2, 1}, {1, -2, 1, 1, 0}, 
                 {1, -3, 1, 1, 0}}]}], affine[const[0], matrix[1, 4, {"i", 
                "j", "N"}, {{0, 0, 0, 1}}]]], restrict[domain[3, 
              {"i", "j", "N"}, {pol[3, 3, 1, 1, {{0, 0, 1, -1, 1}, 
                 {1, 1, 0, 2, -2}, {1, 0, 0, 0, 1}}, {{0, 2, -1, -1, 0}, 
                 {1, 0, 0, 1, 1}, {1, 0, 1, 1, 0}}]}], affine[var["x"], 
              matrix[3, 4, {"i", "j", "N"}, {{1, 0, 2, -2}, {0, 0, 1, 0}, 
                {0, 0, 0, 1}}]]], restrict[domain[3, {"i", "j", "N"}, 
              {pol[4, 4, 0, 0, {{1, 1, 3, 0, 0}, {1, 0, 1, 0, 0}, 
                 {1, 0, -1, 1, -2}, {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, 
                 {1, -3, 1, 1, 0}, {1, 1, 0, 0, 0}, {1, 0, 0, 2, 1}}]}], 
             affine[var["X"], matrix[4, 4, {"i", "j", "N"}, {{1, 0, 0, -2}, 
                {0, 1, 0, 1}, {0, 0, 1, 0}, {0, 0, 0, 1}}]]]}]], 
         matrix[4, 4, {"i", "j", "N"}, {{3, 0, 0, 0}, {0, 1, 0, 0}, 
           {0, 0, 1, 0}, {0, 0, 0, 1}}]]]], 
      restrict[domain[3, {"i", "j", "N"}, 
        {pol[2, 4, 0, 2, {{1, 0, -1, 1, -2}, {1, 0, 0, 0, 1}}, 
          {{0, 1, 0, 0, 0}, {0, 0, 1, 1, 0}, {1, 0, 0, 1, 0}, 
           {1, 0, 0, 2, 1}}]}], binop[add, affine[var["Y"], 
         matrix[4, 4, {"i", "j", "N"}, {{3, 0, 0, -3}, {0, 1, 0, 1}, 
           {0, 0, 1, 0}, {0, 0, 0, 1}}]], binop[mul, affine[var["w"], 
          matrix[3, 4, {"i", "j", "N"}, {{0, 1, 0, 0}, {0, 0, 1, 0}, 
            {0, 0, 0, 1}}]], affine[restrict[domain[3, {"i", "j", "N"}, 
            {pol[4, 4, 0, 0, {{1, 1, 3, 0, 0}, {1, 0, 1, 0, 0}, {1, 0, -1, 1, 
                -1}, {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, {1, -3, 1, 1, 0}, {
                1, 1, 0, 0, 0}, {1, 0, 0, 1, 1}}]}], 
           case[{restrict[domain[3, {"i", "j", "N"}, {pol[4, 3, 1, 0, 
                 {{0, 0, 1, -1, 1}, {1, -1, 0, -2, 1}, {1, 1, 0, 3, -3}, 
                  {1, 0, 0, 0, 1}}, {{1, -3, 1, 2, 1}, {1, -2, 1, 1, 0}, 
                  {1, -3, 1, 1, 0}}]}], affine[const[0], matrix[1, 4, 
                {"i", "j", "N"}, {{0, 0, 0, 1}}]]], restrict[domain[3, {"i", 
                "j", "N"}, {pol[3, 3, 1, 1, {{0, 0, 1, -1, 1}, {1, 1, 0, 2, 
                   -2}, {1, 0, 0, 0, 1}}, {{0, 2, -1, -1, 0}, {1, 0, 0, 1, 
                   1}, {1, 0, 1, 1, 0}}]}], affine[var["x"], matrix[3, 4, 
                {"i", "j", "N"}, {{1, 0, 2, -2}, {0, 0, 1, 0}, {0, 0, 0, 
                  1}}]]], restrict[domain[3, {"i", "j", "N"}, {pol[4, 4, 0, 
                 0, {{1, 1, 3, 0, 0}, {1, 0, 1, 0, 0}, {1, 0, -1, 1, -2}, 
                  {1, 0, 0, 0, 1}}, {{1, 0, 0, 1, 0}, {1, -3, 1, 1, 0}, 
                  {1, 1, 0, 0, 0}, {1, 0, 0, 2, 1}}]}], affine[var["X"], 
               matrix[4, 4, {"i", "j", "N"}, {{1, 0, 0, -2}, {0, 1, 0, 1}, 
                 {0, 0, 1, 0}, {0, 0, 0, 1}}]]]}]], matrix[4, 4, 
           {"i", "j", "N"}, {{3, 0, 0, 0}, {0, 1, 0, 0}, {0, 0, 1, 0}, 
            {0, 0, 0, 1}}]]]]]}], matrix[4, 4, {"i", "j", "N"}, 
     {{1, 0, 0, 0}, {0, 3, 0, 0}, {0, 0, 3, 0}, {0, 0, 0, 3}}]]], 
  equation["Z", affine[var["X"], matrix[4, 4, {"i", "j", "N"}, 
     {{3, 0, 0, 0}, {0, 2, 0, 0}, {0, 0, 1, 0}, {0, 0, 0, 1}}]]], 
  equation["y", affine[var["Y"], matrix[4, 3, {"i", "N"}, 
     {{3, 0, 0}, {0, 1, -1}, {0, 1, 0}, {0, 0, 1}}]]]}]
