system["test2", domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}], 
  {decl["x", integer, domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]]}, 
  {decl["y", integer, domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]]}, 
  {decl["A", integer, domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]], 
   decl["B", integer, domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]], 
   decl["C", integer, domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]], 
   decl["X1", integer, domain[0, {}, 
     {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]], 
   decl["X", integer, domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]], 
   decl["Y", integer, domain[0, {}, {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]], 
   decl["Zout", integer, domain[1, {"i"}, 
     {pol[2, 2, 0, 0, {{1, 1, -1}, {1, 0, 1}}, {{1, 1, 0}, {1, 1, 1}}]}]], 
   decl["Zin", integer, domain[1, {"i"}, 
     {pol[2, 2, 0, 0, {{1, -1, 0}, {1, 0, 1}}, {{1, -1, 0}, {1, 0, 1}}]}]], 
   decl["bool1", boolean, domain[0, {}, 
     {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]], 
   decl["bool2", boolean, domain[0, {}, 
     {pol[1, 1, 0, 0, {{1, 1}}, {{1, 1}}]}]]}, 
  {equation["Zout", restrict[domain[1, {"i"}, 
      {pol[2, 2, 0, 0, {{1, 1, -1}, {1, 0, 1}}, {{1, 1, 0}, {1, 1, 1}}]}], 
     case[{restrict[domain[1, {"i"}, 
         {pol[2, 1, 1, 0, {{0, 1, 0}, {1, 0, 1}}, {{1, 0, 1}}]}], 
        affine[var["X"], matrix[1, 2, {"i"}, {{0, 1}}]]], 
       restrict[domain[1, {"i"}, 
         {pol[2, 2, 0, 0, {{1, 1, -1}, {1, 0, 1}}, 
           {{1, 1, 0}, {1, 1, 1}}]}], 
        unop[neg, affine[var["B"], matrix[1, 2, {"i"}, {{0, 1}}]]]], 
       restrict[domain[1, {"i"}, 
         {pol[2, 2, 0, 0, {{1, -1, -1}, {1, 0, 1}}, 
           {{1, -1, 0}, {1, -1, 1}}]}], 
        affine[case[{restrict[domain[1, {"i"}, 
             {pol[2, 2, 0, 0, {{1, 1, -1}, {1, 0, 1}}, 
               {{1, 1, 0}, {1, 1, 1}}]}], var["Zout"]], 
           restrict[domain[1, {"i"}, 
             {pol[2, 2, 0, 0, {{1, -1, 0}, {1, 0, 1}}, 
               {{1, -1, 0}, {1, 0, 1}}]}], var["Zin"]]}], 
         matrix[2, 2, {"i"}, {{1, 1}, {0, 1}}]]]}]]], 
   equation["Zin", restrict[domain[1, {"i"}, 
      {pol[2, 2, 0, 0, {{1, -1, 0}, {1, 0, 1}}, {{1, -1, 0}, {1, 0, 1}}]}], 
     case[{restrict[domain[1, {"i"}, 
         {pol[2, 1, 1, 0, {{0, 1, 0}, {1, 0, 1}}, {{1, 0, 1}}]}], 
        affine[var["X"], matrix[1, 2, {"i"}, {{0, 1}}]]], 
       restrict[domain[1, {"i"}, 
         {pol[2, 2, 0, 0, {{1, 1, -1}, {1, 0, 1}}, {{1, 1, 0}, {1, 1, 1}}]}]\
, unop[neg, affine[var["B"], matrix[1, 2, {"i"}, {{0, 1}}]]]], 
       restrict[domain[1, {"i"}, 
         {pol[2, 2, 0, 0, {{1, -1, -1}, {1, 0, 1}}, 
           {{1, -1, 0}, {1, -1, 1}}]}], 
        affine[case[{restrict[domain[1, {"i"}, 
             {pol[2, 2, 0, 0, {{1, 1, -1}, {1, 0, 1}}, 
               {{1, 1, 0}, {1, 1, 1}}]}], var["Zout"]], 
           restrict[domain[1, {"i"}, 
             {pol[2, 2, 0, 0, {{1, -1, 0}, {1, 0, 1}}, 
               {{1, -1, 0}, {1, 0, 1}}]}], var["Zin"]]}], 
         matrix[2, 2, {"i"}, {{1, 1}, {0, 1}}]]]}]]]}]
